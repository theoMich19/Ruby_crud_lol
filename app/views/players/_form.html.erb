<%= form_with(model: player) do |form| %>
    <% if player.errors.any? %>
      <div id="error_explanation" class="lol-alert-danger rounded-md p-4 mb-6">
        <div class="flex items-start">
          <svg class="h-6 w-6 text-red-400 mr-3 mt-0.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10" />
            <line x1="12" y1="8" x2="12" y2="12" />
            <line x1="12" y1="16" x2="12.01" y2="16" />
          </svg>
          <div>
            <h2 class="font-bold text-red-300 mb-2"><%= pluralize(player.errors.count, "erreur") %> a empêché ce joueur d'être sauvegardé :</h2>
            <ul class="list-disc ml-6 text-red-200">
              <% player.errors.each do |error| %>
                <li><%= error.full_message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
    <% end %>
  
    <div class="lol-container bg-gradient-to-b from-[#0a1428] to-[#091428] border border-[#3c3c41] rounded-md shadow-lg">
      <div class="lol-header p-4 border-b border-[#3c3c41] bg-black bg-opacity-40">
        <h2 class="text-xl font-bold text-center text-[#c8aa6e]">
          <%= player.new_record? ? "NOUVEAU JOUEUR" : "MODIFIER LE JOUEUR" %>
        </h2>
      </div>
  
      <div class="p-6 space-y-6">
        <div class="bg-[#091428] bg-opacity-70 border border-[#3c3c41] rounded-md p-5">
          <h3 class="text-[#c8aa6e] font-semibold mb-4 pb-2 border-b border-[#3c3c41]">Informations personnelles</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <%= form.label :last_name, "Nom", class: "block text-sm font-medium text-[#c8aa6e] mb-2" %>
              <div class="relative">
                <%= form.text_field :last_name, 
                      class: "block w-full rounded-md border border-[#3c3c41] bg-[#1e2328] text-[#f0e6d2] px-4 py-3 focus:outline-none focus:border-[#c8aa6e] focus:ring focus:ring-[#c8aa6e] focus:ring-opacity-30",
                      placeholder: "Entrez le nom du joueur" %>
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                  <svg class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
              </div>
            </div>
  
            <div>
              <%= form.label :first_name, "Prénom", class: "block text-sm font-medium text-[#c8aa6e] mb-2" %>
              <div class="relative">
                <%= form.text_field :first_name, 
                      class: "block w-full rounded-md border border-[#3c3c41] bg-[#1e2328] text-[#f0e6d2] px-4 py-3 focus:outline-none focus:border-[#c8aa6e] focus:ring focus:ring-[#c8aa6e] focus:ring-opacity-30",
                      placeholder: "Entrez le prénom du joueur" %>
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                  <svg class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="bg-[#091428] bg-opacity-70 border border-[#3c3c41] rounded-md p-5">
          <h3 class="text-[#c8aa6e] font-semibold mb-4 pb-2 border-b border-[#3c3c41]">Informations de jeu</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <%= form.label :role, "Rôle", class: "block text-sm font-medium text-[#c8aa6e] mb-2" %>
              <div class="relative">
                <%= form.select :role, 
                      [['Sélectionnez un rôle', '']] + Player.roles.keys.map { |role| [role.humanize, role] }, 
                      {}, 
                      class: "block w-full rounded-md border border-[#3c3c41] bg-[#1e2328] text-[#f0e6d2] px-4 py-3 focus:outline-none focus:border-[#c8aa6e] focus:ring focus:ring-[#c8aa6e] focus:ring-opacity-30 appearance-none" %>
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                  <svg class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
              </div>
              <p class="mt-2 text-xs text-gray-400">Choisissez le rôle principal du joueur dans l'équipe</p>
            </div>
  
            <div>
              <%= form.label :team_id, "Équipe", class: "block text-sm font-medium text-[#c8aa6e] mb-2" %>
              <div class="relative">
                <%= form.select :team_id, 
                      [['Aucune équipe', '']] + team_options_for_select,
                      {}, 
                      class: "block w-full rounded-md border border-[#3c3c41] bg-[#1e2328] text-[#f0e6d2] px-4 py-3 focus:outline-none focus:border-[#c8aa6e] focus:ring focus:ring-[#c8aa6e] focus:ring-opacity-30 appearance-none" %>
                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                  <svg class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
              </div>
              <p class="mt-2 text-xs text-gray-400">Une équipe ne peut pas avoir plus de 5 joueurs</p>
            </div>
          </div>
        </div>
      </div>
  
      <div class="border-t border-[#3c3c41] bg-black bg-opacity-30 p-5 flex flex-wrap justify-center gap-4">
        <%= form.submit player.new_record? ? "Créer le joueur" : "Mettre à jour", 
              class: "lol-btn lol-btn-primary flex items-center px-6 py-3" %>
        
        <%= link_to 'Annuler', player.new_record? ? players_path : player_path(player), 
              class: "lol-btn flex items-center px-6 py-3" %>
      </div>
    </div>
  <% end %>